# Проект по A/B-тестированию
**Основные моменты:**
- проверка соответствия данных из 4 датасетов техническому заданию
- исследовательский анализ данных
- оценка кумулятивных метрик и проверка статистической разницы

## Описание
В распоряжении есть датасет с действиями пользователей, техническое задание и несколько вспомогательных датасетов.

**Техническое задание**

- Название теста: recommender_system_test;
- группы: А — контрольная, B — новая платёжная воронка;
- дата запуска: 2020-12-07;
- дата остановки набора новых пользователей: 2020-12-21;
- дата остановки: 2021-01-04;
- аудитория: 15% новых пользователей из региона EU;
- назначение теста: тестирование изменений, связанных с внедрением улучшенной рекомендательной системы;
- ожидаемое количество участников теста: 6000.
- ожидаемый эффект: за 14 дней с момента регистрации пользователи покажут улучшение каждой метрики не менее, чем на 10%:
  - конверсии в просмотр карточек товаров — событие product_page,
  - просмотры корзины — product_cart,
  - покупки — purchase.

**Данные**
- ab_project_marketing_events — календарь маркетинговых событий со следующими данными:
  - название маркетингового события
  - регионом рекламной кампания
  - дата начала кампании
  - дата завершения кампании
- final_ab_new_users — зарегистрировавшиеся пользователи:
  - идентификатор пользователя
  - дата регистрации
  - регион пользователя
  - устройство, с которого происходила регистрация
- final_ab_events — действия новых пользователей:
  - идентификатор пользователя
  - дата и время покупки
  - тип события
  - дополнительные данные о событии, для покупок - стоимость покупки
- final_ab_participants — таблица участников тестов
  - идентификатор пользователя
  - название теста
  - группа пользователя

**Задача**

Провести оценку результатов A/B-теста

**Проделанные шаги**

* Загрузка и обзор данных
* Предобработка данных
  * Проверка и обработка пропусков
  * Изменение типов данных и переименование столцов
  * Проверка данных на аномалии и исправления
  * Проверка дубликатов
* Корректность проведения теста
  * Соответствие данных требованиям технического задания. Проверить корректность всех пунктов технического задания.
  * Время проведения теста. Убедиться, что оно не совпадает с маркетинговыми и другими активностями.
  * Аудиторию теста. Удостовериться, что нет пересечений с конкурирующим тестом и нет пользователей, участвующих в двух группах теста одновременно. Проверить равномерность распределения по тестовым группам и правильность их формирования.
* Исследовательский анализ данных
  * Количество событий на пользователя одинаково распределены в выборках?
  * Как число событий в выборках распределено по дням?
  * Как меняется конверсия в воронке в выборках на разных этапах?
  * Какие особенности данных нужно учесть, прежде чем приступать к A/B-тестированию?
* Оценка результатов A/B-тестирования
  * Что можно сказать про результаты A/В-тестирования?
  * Проверить статистическую разницу долей z-критерием.

**Выводы**

По ряду пунктов данные не соответствуют ТЗ, а именно:
количество участников теста отличается о того, что заявлено в ТЗ, вместо 6000 имеются 3200. Это произошло потому, что есть 3000 пользователей зарегестрировавшихся, но не совершавших никаких действий.
тест прекратился раньше установленной даты 30 декабря вместо 4 января
пользователи за 14 дней с момента регистрации не показали улучшение конверсий в события на 10%, наоборот наблюдается ухудшение эти показателей
Участников в группе В сильно меньше чем в группе А, 2600 против 650. Такой перекос произошел в том числе, из-за того что после 13 декабря в группе А перестали присоединяться пользователи, которые не совершали действий. В итоге из 6400 зарегестрировавшихся участников, 3000 не совершали действия и из этих 3000 к группе В принадлежат 1800 человек.
Кумулятивный средний чек для группы В увеличивался день ко дню. Кумулятивная конверсия у группы В хуже чем у группы А, эти результаты можно признать правдивыми, так как между долями конверсии в покупку нет значимой разницы для разных групп теста.
Результаты по вычислению конверсии в другие события следующие:
для события product_page между долями есть значимая разница, результаты нельзя принимать во внимание
для события product_cart между долями нет значимой разницы, результаты конверсии можно считать достоверными

Главный вывод - результаты статистической проверки позволяют нам сказать, что новая рекомендательная система не показала должных изменений и следует признать тест неудачным. Но нужно учитывать мощность статистического теста, что вероятность ошибиться из-за количества пользователей, крайне велика.
